import{ifElse,traverse,chain,curry,compose}from"ramda";import future,{of,isFuture,reject}from"fluture";var isArray=function(r){return Array.isArray(r)},_branch=function(r){return ifElse(isArray,traverse(of,r),r)},branch=curry(function(r,t){if(isFuture(t))return chain(_branch(r))(t);var e=t;return _branch(r)(t).fork(function(r){return e=r},function(r){return e=r}),e}),toConsumableArray=function(r){if(Array.isArray(r)){for(var t=0,e=Array(r.length);t<r.length;t++)e[t]=r[t];return e}return Array.from(r)},_classList=curry(function(r,t,e){var n;return isArray(t)?(n=e.classList)[r].apply(n,toConsumableArray(t)):e.classList[r](t),of(e)}),classList=curry(function(r,t,e){return branch(_classList(r,t))(e)}),addClass=classList("add"),elNodeType=1,isElmNode=function(r){return r&&r.nodeType===elNodeType},dom=function(r){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return future(function(e,n){var a=isElmNode(t)?t.querySelector(r):document.querySelector(r);a?n(a):e({error:"Element with selector "+r+" not found."})})},emptyArray=0,domAll=function(r){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return future(function(e,n){var a=isElmNode(t)?t.querySelectorAll(r):document.querySelectorAll(r);a.length>emptyArray?n(Array.from(a)):e({error:"Elements with selector "+r+" not found."})})},_getAttr=curry(function(r,t){return t.hasAttribute(r)?of(t.getAttribute(r)):reject({error:"Sorry, "+r+" was not found."})}),getAttr=curry(function(r,t){return branch(_getAttr(r))(t)}),_hasProp=curry(function(r,t){return of(r in t)}),hasProp=curry(function(r,t){return branch(_hasProp(r))(t)}),_getAttr$2=curry(function(r,t){return hasProp(r,t)?of(t[r]):reject({error:"Sorry, "+r+" was not found."})}),getProp=curry(function(r,t){return branch(_getAttr$2(r))(t)}),getData=curry(function(r,t){return compose(getProp(r),getProp("dataset"))(t)}),_hasAttr=curry(function(r,t){return of(t.hasAttribute(r))}),hasAttr=curry(function(r,t){return branch(_hasAttr(r))(t)}),_hasClass=curry(function(r,t){return of(t.classList.contains(r))}),hasClass=curry(function(r,t){return branch(_hasClass(r))(t)}),hasData=curry(function(r,t){return compose(hasProp(r),getProp("dataset"))(t)}),_removeAttr=curry(function(r,t){return t.removeAttribute(r),of(t)}),removeAttr=curry(function(r,t){return branch(_removeAttr(r))(t)}),removeClass=classList("remove"),_removeData=curry(function(r,t){if(hasData(r,t)&&!delete t.dataset[r])return reject({error:"Property "+r+" is non-configurable."});return of(t)}),removeData=curry(function(r,t){return branch(_removeData(r))(t)}),_removeProp=curry(function(r,t){if(hasProp(r,t)&&!delete t[r])return reject({error:"Property "+r+" is non-configurable."});return of(t)}),removeProp=curry(function(r,t){return branch(_removeProp(r))(t)}),_setAttr=curry(function(r,t,e){return e.setAttribute(r,t),of(e)}),setAttr=curry(function(r,t,e){return branch(_setAttr(r,t))(e)}),validDataRegex=/^[a-zA-Z0-9]?[a-zA-Z0-9_:.]*[a-zA-Z0-9]$/,onlyOne=1,isValidDataProp=function(r){var t=r.match(validDataRegex);return t&&t.length===onlyOne},_setData=curry(function(r,t,e){return isValidDataProp(r)?(e.dataset[r]=t,of(e)):reject({error:"Data property "+r+" is not a valid property name"})}),setData=curry(function(r,t,e){return branch(_setData(r,t))(e)}),_setProp=curry(function(r,t,e){return e[r]=t,of(e)}),setAttr$2=curry(function(r,t,e){return branch(_setProp(r,t))(e)}),toggleClass=classList("toggle"),index={addClass:addClass,classList:classList,dom:dom,domAll:domAll,getAttr:getAttr,getData:getData,getProp:getProp,hasAttr:hasAttr,hasClass:hasClass,hasData:hasData,hasProp:hasProp,removeAttr:removeAttr,removeClass:removeClass,removeData:removeData,removeProp:removeProp,setAttr:setAttr,setData:setData,setProp:setAttr$2,toggleClass:toggleClass};export default index;
